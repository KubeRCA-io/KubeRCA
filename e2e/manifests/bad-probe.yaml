# R10 trigger: Readiness Probe Failure
# Runs a simple sleep container that never listens on port 9999, so the
# readiness probe fails indefinitely.
apiVersion: v1
kind: Pod
metadata:
  name: bad-probe
  namespace: kuberca-e2e
  labels:
    e2e-test: "true"
    rule: r10
spec:
  restartPolicy: Always
  containers:
    - name: no-listener
      image: busybox:1.36
      command: ["sleep", "3600"]
      readinessProbe:
        httpGet:
          path: /healthz
          port: 9999
        initialDelaySeconds: 1
        periodSeconds: 3
        failureThreshold: 3
